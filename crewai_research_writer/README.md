# CrewAI 自律型AIエージェントシステム 🤖

ソーシャルインパクトを重視した企画立案・記事作成を自動で行う、階層構造を持つAIエージェントチームです。

## 🌟 概要

このプロジェクトは、[CrewAI](https://www.crewai.com/)フレームワークを使用して構築された自律型AIエージェントシステムです。

**Forbes500級のCEO**が人間からの指示を受け取り、**Big4パートナー級のプロジェクトマネージャー**がチームを管理し、**専門家チーム**が調査・企画・執筆を行う、本格的な組織構造を実現しています。

## 📁 プロジェクト構成

```
crewai_research_writer/
├── main.py          # 実行エントリーポイント
├── agents.py        # エージェント定義（6エージェント）
├── tasks.py         # タスク定義（7タスク）
├── requirements.txt # 依存関係
├── .env.example     # 環境変数テンプレート
├── .env             # 環境変数（要作成）
├── output/          # 生成されたレポートの保存先
└── README.md        # このファイル
```

## 🏢 組織階層構造

```
╔═══════════════════════════════════════════════════════════════════════╗
║                                                                        ║
║  👤 人間（あなた）                                                     ║
║      │                                                                 ║
║      ▼                                                                 ║
║  ┌─────────────────────────────────────────────────────────────────┐  ║
║  │  Level 1: 👔 CEO（最高経営責任者）                               │  ║
║  │           └─ Forbes500級のビジョナリーリーダー                   │  ║
║  │           └─ 人間からの指示を受ける唯一のルート                  │  ║
║  │           └─ 最終レビューと承認                                  │  ║
║  └─────────────────────────────────────────────────────────────────┘  ║
║      │                                                                 ║
║      ▼                                                                 ║
║  ┌─────────────────────────────────────────────────────────────────┐  ║
║  │  Level 2: 📊 Project Manager（プロジェクトマネージャー）         │  ║
║  │           └─ Big4パートナー級のプロジェクト管理能力              │  ║
║  │           └─ 全体の進捗管理と品質保証                            │  ║
║  │           └─ リスク管理とエスカレーション                        │  ║
║  └─────────────────────────────────────────────────────────────────┘  ║
║      │                                                                 ║
║      ▼                                                                 ║
║  ┌─────────────────────────────────────────────────────────────────┐  ║
║  │  Level 3: 実行チーム                                             │  ║
║  │  ┌───────────────┬───────────────┬───────────────┬────────────┐ │  ║
║  │  │ 🎯 Strategic  │ 🔍 Researcher │ 💡 Planner   │ ✍️ Writer  │ │  ║
║  │  │   Director    │               │              │            │ │  ║
║  │  │   戦略策定    │   情報収集    │   企画立案   │   執筆     │ │  ║
║  │  └───────────────┴───────────────┴───────────────┴────────────┘ │  ║
║  └─────────────────────────────────────────────────────────────────┘  ║
║                                                                        ║
╚═══════════════════════════════════════════════════════════════════════╝
```

## 🤖 エージェント詳細

### Level 1: CEO（最高経営責任者）

| 項目 | 内容 |
|------|------|
| **役割** | Chief Executive Officer |
| **特徴** | Forbes500に選出されるレベルのビジョナリーリーダー |
| **経歴** | ハーバードMBA、Fortune500企業CEO歴任、ダボス会議常連 |
| **責務** | 人間からの指示解釈、組織方針決定、最終レビュー・承認 |

### Level 2: Project Manager

| 項目 | 内容 |
|------|------|
| **役割** | Senior Project Manager |
| **特徴** | Big4コンサルティングファームでパートナー昇進 |
| **経歴** | PMP/Prince2認定、100以上の大規模プロジェクト経験 |
| **責務** | 進捗管理、品質保証、リスク管理、CEOへの報告 |

### Level 3: 実行チーム

| エージェント | 役割 | 専門性 |
|-------------|------|--------|
| **Strategic Director** | 戦略ディレクター | SDGs、CSV、社会変革 |
| **Researcher** | シニアリサーチアナリスト | シンクタンク、データ分析 |
| **Planner** | ソーシャルイノベーション・プランナー | デザイン思考、事業開発 |
| **Writer** | コンテンツストラテジスト | ストーリーテリング、メディア |

## 📋 タスクフロー

```
┌─────────────────────────────────────────────────────────────────────────┐
│                           タスク実行フロー                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  1. 👔 CEO方針決定                                                       │
│     └─ 人間からの指示を解釈し、組織全体の方向性を決定                   │
│         │                                                                │
│         ▼                                                                │
│  2. 📊 PM計画策定                                                        │
│     └─ プロジェクト計画、WBS、品質管理計画を策定                        │
│         │                                                                │
│         ▼                                                                │
│  3. 🎯 戦略策定                                                          │
│     └─ ソーシャルインパクトの方向性を定義                               │
│         │                                                                │
│         ▼                                                                │
│  4. 🔍 調査                                                              │
│     └─ Web検索で包括的な情報を収集                                      │
│         │                                                                │
│         ▼                                                                │
│  5. 💡 企画立案                                                          │
│     └─ 調査結果を基に革新的な企画を提案                                 │
│         │                                                                │
│         ▼                                                                │
│  6. ✍️  執筆                                                              │
│     └─ すべての成果物を統合した記事を作成                               │
│         │                                                                │
│         ▼                                                                │
│  7. 👔 CEO最終レビュー                                                   │
│     └─ 全成果物をレビューし、最終承認                                   │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

## 🚀 セットアップ

### 1. 前提条件

- Python 3.10以上
- OpenAI APIキー
- Serper APIキー（無料プランあり）

### 2. 依存関係のインストール

```bash
# 仮想環境の作成（推奨）
python -m venv venv
source venv/bin/activate  # Linux/Mac
# または
venv\Scripts\activate     # Windows

# 依存関係のインストール
pip install -r requirements.txt
```

### 3. 環境変数の設定

```bash
# テンプレートをコピー
cp .env.example .env

# .envファイルを編集してAPIキーを設定
```

必要なAPIキー：

| 環境変数 | 説明 | 取得先 |
|----------|------|--------|
| `OPENAI_API_KEY` | OpenAI APIキー | [OpenAI Platform](https://platform.openai.com/api-keys) |
| `SERPER_API_KEY` | Serper APIキー（Google検索） | [Serper.dev](https://serper.dev/) |
| `OPENAI_MODEL_NAME` | 使用するモデル（オプション） | デフォルト: `gpt-4o-mini` |

## 📖 使用方法

### 基本的な使い方

```bash
python main.py
```

実行すると、以下の流れで進みます：

```
╔══════════════════════════════════════════════════════════════════════╗
║                                                                       ║
║  CrewAI 自律型AIエージェントシステム                                  ║
║  ～ ソーシャルインパクト企画 AI チーム ～                             ║
║                                                                       ║
╠══════════════════════════════════════════════════════════════════════╣
║                                                                       ║
║  【組織階層構造】                                                     ║
║                                                                       ║
║  Level 1: 👔 CEO（最高経営責任者）                                    ║
║          └─ Forbes500級のビジョナリーリーダー                         ║
║          └─ 人間からの指示を受ける唯一のルート                        ║
║                                                                       ║
║  Level 2: 📊 Project Manager                                          ║
║          └─ Big4パートナー級のプロジェクト管理                        ║
║                                                                       ║
║  Level 3: 実行チーム                                                  ║
║          ├─ 🎯 Strategic Director（戦略ディレクター）                 ║
║          ├─ 🔍 Researcher（調査員）                                   ║
║          ├─ 💡 Planner（企画立案者）                                  ║
║          └─ ✍️  Writer（ライター）                                    ║
║                                                                       ║
╚══════════════════════════════════════════════════════════════════════╝

----------------------------------------------------------------------

【CEOへの指示】
調査・企画立案したいトピックを入力してください。
CEOがあなたの指示を解釈し、チーム全体を動かします。

📝 トピック: 
```

### 入力例

- `フードロス削減のための新しい取り組み`
- `高齢者の孤立を防ぐコミュニティづくり`
- `地方創生とテクノロジーの活用`
- `子どもの教育格差を解消する方法`
- `気候変動に対応する持続可能な農業`

### 実行モード

| モード | 説明 | 特徴 |
|--------|------|------|
| **Sequential** | 順次実行（推奨） | 予測可能、デバッグ容易 |
| **Hierarchical** | 階層的実行 | CEOが動的に監督、柔軟 |

### 出力

生成されたレポートは以下の場所に保存されます：
- `output/report_YYYYMMDD_HHMMSS_モード_トピック名.md`

## 🎯 ソーシャルインパクトの特徴

このシステムは、以下の観点を重視した企画を生成します：

### SDGs対応

関連するSDGs（持続可能な開発目標）を考慮した企画立案

### インパクト測定

- 定量指標（KPI）の設定
- 定性指標の定義
- 変化の理論（Theory of Change）に基づく設計

### ステークホルダー配慮

- 多様なステークホルダーの巻き込み
- 「誰一人取り残さない」包摂性
- 持続可能なビジネスモデル

## 🔧 カスタマイズ

### エージェントのカスタマイズ

`agents.py`でエージェントの以下の項目を変更できます：

```python
Agent(
    role="役割名",
    goal="目標",
    backstory="バックストーリー",
    tools=[...],
    verbose=True,
    allow_delegation=True/False,
)
```

### タスクのカスタマイズ

`tasks.py`でタスクの以下の項目を変更できます：

```python
Task(
    description="タスクの詳細な指示",
    expected_output="期待する出力形式",
    agent=担当エージェント,
    context=[依存タスク],
)
```

### 新しいエージェントの追加例

```python
# agents.py に追加
def create_quality_assurance() -> Agent:
    return Agent(
        role="品質保証マネージャー",
        goal="全成果物の品質を検証する",
        backstory="...",
        verbose=True,
    )
```

## 📝 出力例

```markdown
# CEO Final Review Report（最終レビュー報告書）

## Executive Summary
本プロジェクトは、人間からの指示に基づき、[トピック]について
包括的な調査と革新的な企画を完成させました。

## レビュー結果サマリー

| 成果物 | 評価 | コメント |
|--------|------|----------|
| 戦略策定 | ⭐⭐⭐⭐⭐ | 社会課題の本質を的確に捉えている |
| 調査レポート | ⭐⭐⭐⭐⭐ | 最新データと事例が充実 |
| 企画書 | ⭐⭐⭐⭐⭐ | 実現可能性とインパクトのバランスが優れている |
| 最終記事 | ⭐⭐⭐⭐⭐ | 読者の心を動かす構成 |

## 最終判断

**判定: ✅ 承認**

人間の期待を超える成果物が完成しました。
```

## ⚠️ 注意事項

- APIの使用には料金が発生します（特にHierarchicalモード）
- Serperの無料プランは月100回までの検索制限があります
- 生成されたコンテンツは必ず人間が確認してください
- 実際の企画実行前には専門家のレビューを推奨します

## 🤝 ライセンス

MIT License

## 📚 参考リンク

- [CrewAI 公式ドキュメント](https://docs.crewai.com/)
- [CrewAI GitHub](https://github.com/joaomdmoura/crewAI)
- [Serper.dev](https://serper.dev/)
- [SDGs（国連）](https://sdgs.un.org/)
